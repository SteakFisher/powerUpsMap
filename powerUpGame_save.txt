{"map":{"name":"powerUpGame","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"xyz":[550,10,737,7,11,7],"objects":[{"p":[0,-10,0],"meshUUID":"DFB07F59-E92C-4659-9B15-2B8E06471654","objUUID":"A6F78115-9842-4F25-A520-494227AEE174","si":0},{"p":[0,0,0],"meshUUID":"842BBAB3-852A-484B-82EA-48D9938D6958","objUUID":"7252406D-A0A4-4D9B-B910-1FCBD37976BA","i":5,"tm":0,"si":1}],"config":{"settings":{"slidSpd":0}},"scripts":{"client":"IyBDbGllbnQgU2NyaXB0IHJ1bnMgb25seSBvbiB0aGUgY2xpZW50CiMgS3J1bmtTY3JpcHQgQ29weXJpZ2h0IChDKSBZZW5kaXMgRW50ZXJ0YWlubWVudCBQdHkgTHRkCiMgCiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKIwoKb2JqIHBsYXllciA9IHsKCWZpcnN0TG9hZCA6IHRydWUKfTsKCm9iaiBzdGFtaW5hID0gewoJbWF4OiAxMDAwMCwKCQogICAgY291bnQgOiAxMDAwMCwKICAgIGNoZWNrIDogdHJ1ZSwKCWluY3JlYXNlVmFsdWUgOiA1MDAsCiAgICBvbGQgOiAxMDAwMCwKICAgIHN0YWduYW50IDogZmFsc2UKfTsKCm9iaiBzdGFtaW5hQmFyID0gewogICAgYmFja2dyb3VuZEJhciA6IHsKICAgICAgICBjc3M6ICd3aWR0aDo1NTBweDtoZWlnaHQ6NzVweDtwb3NpdGlvbjphYnNvbHV0ZTsnICsKCQkJICd0b3A6MyU7cmlnaHQ6MiU7JyArCgkJCSAnYmFja2dyb3VuZC1jb2xvcjojNTU1NTU1O2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6OTBweDsnICsKCQkJICdib3JkZXI6c29saWQgMnB4ICM1NTU1NTU7ZGlzcGxheTpibG9jaztvdmVyZmxvdy15OiBoaWRkZW47JyArCiAgICAgICAgICAgICAnY29sb3I6d2hpdGU7IGZvbnQtc2l6ZTogMjBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7JywKICAgIH0sCglzdGFtaW5hQmFyMSA6IHsKCQljc3M6ICd3aWR0aDo1MjhweDtoZWlnaHQ6NTVweDtwb3NpdGlvbjphYnNvbHV0ZTsnICsKCQkJICdiYWNrZ3JvdW5kLWNvbG9yOiMzRjM3Qzk7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo5MHB4O3RvcDo4cHg7bGVmdDo5cHg7JyArCgkJCSAnYm9yZGVyOnNvbGlkIDJweCAjM0YzN0M5O2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3cteTogaGlkZGVuOycgKwogICAgICAgICAgICAgJ2NvbG9yOndoaXRlOyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiBib2xkO3RleHQtYWxpZ246IGNlbnRlcjsnLAoJfQp9OwoKb2JqIHNwcmludCA9IHsKICAgIGJvb3N0IDogMC4wMDAyLAoJa2V5IDogMjAsCiAgICBzdGFtaW5hTG9zczogLTEsCgkKICAgIHN0YXRlIDogZmFsc2UKfTsKCm9iaiBqdW1wID0gewoJeVZlbDogMC4wMDMsCglzdGFtaW5hTG9zczogLTI1MDAsCgkKCWNvb2xkb3duQm9vbDogZmFsc2UsCgljb3VudDogMAp9OwoKb2JqIHdhbGsgPSB7CglzdGFtaW5hTG9zczogLTAuMDA1Cn07CgojIHN0YW1pbmFJbmNyZWFzZVRpbWVyLCBzdGFnbmFudFRpbWVyLCBqdW1wQ29vbERvd24KbnVtW10gdGltZXJzID0gbnVtWzAsMCwwXTsKbnVtW10gdGltZXJzTWF4ID0gbnVtWzEwMDAsIDEwMDAsIDUwMDBdOwoKYm9vbCBhY3Rpb24gY2hlY2tTdGFtaW5hKCl7CglzdGFtaW5hLmNoZWNrID0gdHJ1ZTsKCWlmKChudW0pIHN0YW1pbmEuY291bnQ8PTApewoJCXN0YW1pbmEuY291bnQ9MDsKCQlzdGFtaW5hLmNoZWNrID0gZmFsc2U7CgkJc3ByaW50LnN0YXRlID0gZmFsc2U7Cgl9CglyZXR1cm4gKGJvb2wpIHN0YW1pbmEuY2hlY2s7Cn0KCmFjdGlvbiBlZGl0U3RhbWluYShzdHIgaWQsIG51bSBlZGl0TnVtKXsKCShudW0pIHN0YW1pbmEuY291bnQrPSBlZGl0TnVtOwoJY2hlY2tTdGFtaW5hKCk7Cn0KCmJvb2wgYWN0aW9uIHN0YW1pbmFTdGFnbmFudChudW0gZGVsdGEpewoJaWYoKG51bSkgc3RhbWluYS5jb3VudCA8IChudW0pIHN0YW1pbmEubWF4KXsKCQlpZigobnVtKSBzdGFtaW5hLm9sZCA9PSAobnVtKSBzdGFtaW5hLmNvdW50KXsKCQkJdGltZXJzWzFdICs9IGRlbHRhOwoJCX0KCQllbHNlIGlmKChudW0pIHN0YW1pbmEub2xkID4gKG51bSkgc3RhbWluYS5jb3VudCl7CgkJCXRpbWVyc1sxXSA9IDA7CgkJCXN0YW1pbmEuc3RhZ25hbnQgPSBmYWxzZTsKCQl9CgkJaWYodGltZXJzWzFdID49IHRpbWVyc01heFsxXSl7CgkJICAgIHN0YW1pbmEuc3RhZ25hbnQgPSB0cnVlOwoJCX0KCX0KCXN0YW1pbmEub2xkID0gKG51bSkgc3RhbWluYS5jb3VudDsKCXJldHVybiAoYm9vbCkgc3RhbWluYS5zdGFnbmFudDsKfQoKYWN0aW9uIGluY3JlYXNlU3RhbWluYShudW0gZGVsdGEpewoJdGltZXJzWzBdKz1kZWx0YTsKCWlmKHRpbWVyc1swXSA+PSB0aW1lcnNNYXhbMF0pewoJCXRpbWVyc1swXSA9IDA7CgkJaWYoKG51bSkgc3RhbWluYS5jb3VudDwobnVtKSBzdGFtaW5hLm1heCl7CgkJCWVkaXRTdGFtaW5hKChudW0pc3RhbWluYS5pbmNyZWFzZVZhbHVlKTsKCQkJaWYoKG51bSkgc3RhbWluYS5jb3VudD4obnVtKSBzdGFtaW5hLm1heCl7CgkJCQlzdGFtaW5hLmNvdW50PShudW0pIHN0YW1pbmEubWF4OwoJCQl9CgkJfQoJfQp9CgphY3Rpb24gd2Fsa1N0YW1pbmEob2JqIGlucHV0cyl7CglpZighIWlucHV0cy5tb3ZEaXIpewoJCWlmKChudW0pIHN0YW1pbmEuY291bnQgIT0gMCl7CgkJCWVkaXRTdGFtaW5hKChudW0pIHdhbGsuc3RhbWluYUxvc3MpOwoJCX0KCQllbHNlIGlmKChudW0pIHN0YW1pbmEuY291bnQgPT0gMCl7CgkJCXBsYXllci52ZWxvY2l0eS54ID0gMDsKCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCX0KCX0KfQoKYWN0aW9uIHNwcmludFBsYXllcihudW0gZGVsdGEpewogICAgbnVtIHpDb21wID0gKG51bSkgc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5jb3MoKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgbnVtIHhDb21wID0gKG51bSkgc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5zaW4oKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgKG51bSkgcGxheWVyLnZlbG9jaXR5LnggLT0geENvbXA7CiAgICAobnVtKSBwbGF5ZXIudmVsb2NpdHkueiAtPSB6Q29tcDsKCiAgICBlZGl0U3RhbWluYSgobnVtKSBzcHJpbnQuc3RhbWluYUxvc3MgKiBkZWx0YSk7Cn0KCmFjdGlvbiBzcHJpbnRBY3RpdmUobnVtIGNvZGUpewogICAgaWYoY29kZSA9PSAobnVtKSBzcHJpbnQua2V5KXsKICAgICAgICBpZigobnVtKXN0YW1pbmEuY291bnQgPiAoKG51bSkgc3ByaW50LnN0YW1pbmFMb3NzKi0xKSl7CiAgICAgICAgICAgIHNwcmludC5zdGF0ZSA9IHRydWU7CiAgICAgICAgfQoJZWxzZXsKCSAgICBzcHJpbnQuc3RhdGU9ZmFsc2U7Cgl9CiAgfQp9CgphY3Rpb24gc3ByaW50RGVhY3RpdmUobnVtIGNvZGUpewogICAgaWYoY29kZSA9PSAobnVtKSBzcHJpbnQua2V5KXsKICAgICAgICBzcHJpbnQuc3RhdGUgPSBmYWxzZTsKICAgIH0KfQoKYWN0aW9uIGNoZWNrU3ByaW50KG51bSBkZWx0YSl7CiAgICBpZighIXNwcmludC5zdGF0ZSl7CiAgICAgICAgc3ByaW50UGxheWVyKGRlbHRhKTsKICAgIH0KfQoKYWN0aW9uIGNoZWNrRG91YmxlSnVtcChudW0gZGVsdGEpewoJaWYoISFqdW1wLmNvb2xkb3duQm9vbCl7CgkJdGltZXJzWzJdICs9IGRlbHRhOwoJCWlmKHRpbWVyc1syXSA+IHRpbWVyc01heFsyXSl7CgkJCWp1bXAuY29vbGRvd25Cb29sID0gZmFsc2U7CgkJCXRpbWVyc1syXSA9IDA7CgkJfQoJfQp9CgphY3Rpb24gZG91YmxlSnVtcChvYmogaW5wdXRzLCBudW0gZGVsdGEpewoJaWYoIWp1bXAuY29vbGRvd25Cb29sKXsKCQlpZigobnVtKXN0YW1pbmEuY291bnQgPiAobnVtKWp1bXAuc3RhbWluYUxvc3MpewoJCQlpZigobnVtKWp1bXAuY291bnQgPiAwKXsKICAgICAgICAJCWlmKCEhcGxheWVyLm9uR3JvdW5kKXsKICAgICAgICAJICAgIAlqdW1wLmNvdW50ID0gMDsKICAgICAgICAJCX0KICAgIAkJfQogICAgCQogICAgCQlpZigobnVtKSBqdW1wLmNvdW50ID09IDEpewogICAgICAgIAkJaWYoIWlucHV0cy5qdW1wKXsKICAgICAgICAJICAgIAlqdW1wLmNvdW50ID0gMjsKICAgICAgICAJCX0KICAgIAkJfQoJCiAgICAJCWlmKCEhaW5wdXRzLmp1bXApewogICAgICAgIAkJaWYoKG51bSlqdW1wLmNvdW50ID09IDApewogICAgICAgIAkgICAgCWp1bXAuY291bnQgPSAxOwogICAgICAgIAkJfQogICAgICAgIAkJZWxzZSBpZigobnVtKWp1bXAuY291bnQgPT0gMil7CgkJCQkJKG51bSkgcGxheWVyLnZlbG9jaXR5LnkgKz0gKGRlbHRhICogKG51bSlqdW1wLnlWZWwpOwogICAgICAgIAkgICAgCWp1bXAuY291bnQgPSAzOwoJCQkJCWVkaXRTdGFtaW5hKChudW0pIGp1bXAuc3RhbWluYUxvc3MpOwoJCQkJCWp1bXAuY29vbGRvd25Cb29sID0gdHJ1ZTsKICAgICAgICAJCX0KICAgIAkJfQoJCX0KCX0KfQoKYWN0aW9uIHJlbmRlclN0YW1pbmFCYXIoKXsKICAgIEdBTUUuVUkuYWRkRElWKCdiYWNrZ3JvdW5kQmFyJywgdHJ1ZSwgc3RhbWluYUJhci5iYWNrZ3JvdW5kQmFyLmNzcyk7CiAgICBHQU1FLlVJLmFkZERJVignc3RhbWluYUJhcicsIHRydWUsIHN0YW1pbmFCYXIuc3RhbWluYUJhcjEuY3NzLCAnYmFja2dyb3VuZEJhcicpOwoJR0FNRS5VSS5hZGRESVYoJ3N0YW1pbmFCYXJUZXh0JywgdHJ1ZSwgJ3Bvc2l0aW9uOmZpeGVkO2xpbmUtaGVpZ2h0OjUwcHg7JywgJ3N0YW1pbmFCYXInKTsKCUdBTUUuVUkudXBkYXRlRElWVGV4dCgnc3RhbWluYUJhclRleHQnLCAnU1RBTUlOQScpOwoJR0FNRS5VSS51cGRhdGVESVYoJ3N0YW1pbmFCYXJUZXh0JywgJ2ZvbnQtc2l6ZScsICczMHB4Jyk7CglHQU1FLlVJLnVwZGF0ZURJVignc3RhbWluYUJhclRleHQnLCAnY29sb3InLCAnd2hpdGUnKTsKCUdBTUUuVUkudXBkYXRlRElWKCdzdGFtaW5hQmFyVGV4dCcsICd0ZXh0LWluZGVudCcsICcyMDBweCcpOwp9CgphY3Rpb24gdXBkYXRlU3RhbWluYUJhcigpewoJbnVtIHJhdGlvID0gKChudW0pIHN0YW1pbmEuY291bnQgLyAobnVtKSBzdGFtaW5hLm1heCk7CglzdHIgbmV3V2lkdGggPSB0b1N0ciAoVVRJTFMubWF0aC5mbG9vcig1MjggKiByYXRpbykpICsgJ3B4JzsKCUdBTUUuVUkudXBkYXRlRElWKCdzdGFtaW5hQmFyJywgJ3dpZHRoJywgbmV3V2lkdGgpOwp9CgojIFJ1bnMgd2hlbiB0aGUgZ2FtZSBzdGFydHMKcHVibGljIGFjdGlvbiBzdGFydCgpIHsKCn0KCiMgUnVucyBldmVyeSBnYW1lIHRpY2sKcHVibGljIGFjdGlvbiB1cGRhdGUobnVtIGRlbHRhKSB7CiAgICBjaGVja1N0YW1pbmEoKTsKCWNoZWNrRG91YmxlSnVtcChkZWx0YSk7CglHQU1FLmxvZyhzdGFtaW5hLmNvdW50KTsKfQoKIyBBZGQgcmVuZGVyaW5nIGxvZ2ljIGluIGhlcmUKcHVibGljIGFjdGlvbiByZW5kZXIobnVtIGRlbHRhKSB7CglpZigobnVtKSBzdGFtaW5hLmNvdW50ICE9IChudW0pIHN0YW1pbmEub2xkKXsKCQl1cGRhdGVTdGFtaW5hQmFyKCk7Cgl9Cn0KCiMgUGxheWVyIHNwYXducyBpbgpwdWJsaWMgYWN0aW9uIG9uUGxheWVyU3Bhd24oc3RyIGlkKSB7CglpZighIXBsYXllci5maXJzdExvYWQpewogICAgCXBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CiAgICAJcmVuZGVyU3RhbWluYUJhcigpOwoJCXBsYXllci5maXJzdExvYWQgPSBmYWxzZTsKCX0KCXN0YW1pbmEuY291bnQgPSAxMDAwMDsKfQoKIyBQbGF5ZXIgZGllZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGVhdGgoc3RyIGlkLCBzdHIga2lsbGVySUQpIHsKCn0KCiMgUGxheWVyIHVwZGF0ZQpwdWJsaWMgYWN0aW9uIG9uUGxheWVyVXBkYXRlKHN0ciBpZCwgbnVtIGRlbHRhLCBvYmogaW5wdXRzKSB7CglpZighIXN0YW1pbmFTdGFnbmFudChkZWx0YSkpewoJCWluY3JlYXNlU3RhbWluYShkZWx0YSk7Cgl9CiAgICBjaGVja1NwcmludChkZWx0YSk7Cglkb3VibGVKdW1wKGlucHV0cywgZGVsdGEpOwoJd2Fsa1N0YW1pbmEoaW5wdXRzKTsKfQoKIyBVc2VyIHByZXNzZWQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleVByZXNzKHN0ciBrZXksIG51bSBjb2RlKSB7CiAgICBzcHJpbnRBY3RpdmUoY29kZSk7Cn0KCiMgVXNlciByZWxlYXNlZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5VXAoc3RyIGtleSwgbnVtIGNvZGUpIHsKICAgIHNwcmludERlYWN0aXZlKGNvZGUpOwp9CgojIFVzZXIgaGVsZCBhIGtleQpwdWJsaWMgYWN0aW9uIG9uS2V5SGVsZChzdHIga2V5LCBudW0gY29kZSkgewogICAgCn0KCiMgVXNlciBjbGlja2VkIG9uIHNjcmVlbgpwdWJsaWMgYWN0aW9uIG9uTW91c2VDbGljayhudW0gYnV0dG9uLCBudW0geCwgbnVtIHkpIHsKCn0KCiMgVXNlciByZWxlYXNlZCBjbGlja2VkIG9uIHNjcmVlbgpwdWJsaWMgYWN0aW9uIG9uTW91c2VVcChudW0gYnV0dG9uLCBudW0geCwgbnVtIHkpIHsKCn0KCiMgVXNlciBzY3JvbGxlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlU2Nyb2xsKG51bSBkaXIpIHsKCn0KCiMgVXNlciBjbGlja2VkIGEgRElWIChJRCkKcHVibGljIGFjdGlvbiBvbkRJVkNsaWNrZWQoc3RyIGlkKSB7Cgp9CgojIENsaWVudCByZWNlaXZlcyBuZXR3b3JrIG1lc3NhZ2UKcHVibGljIGFjdGlvbiBvbk5ldHdvcmtNZXNzYWdlKHN0ciBpZCwgb2JqIGRhdGEpIHsKCn0=","server":"IyBTZXJ2ZXIgU2NyaXB0IHJ1bnMgb25seSBvbiBIb3N0ZWQgc2VydmVyICYgbm90IGluIHRlc3QgbW9kZQojIEtydW5rU2NyaXB0IENvcHlyaWdodCAoQykgWWVuZGlzIEVudGVydGFpbm1lbnQgUHR5IEx0ZApudW0gbWF4UGxheWVyID0gLTE7CiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKCmJvb2wgYWN0aW9uIGZpcnN0Sm9pbihzdHIgaWQpewoJYm9vbCBmaXJzdCA9IGZhbHNlOwoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgoJaWYoKG51bSkgcGxheWVyLnNpZCA+IG1heFBsYXllcil7CgkJZmlyc3QgPSB0cnVlOwoJCW1heFBsYXllciA9IChudW0pIHBsYXllci5zaWQ7Cgl9CgkKCXJldHVybiBmaXJzdDsKfQoKYWN0aW9uIGxvYWRQbGF5ZXJQcm9wcyhzdHIgaWQpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgoJcGxheWVyLnN0YW1pbmEgPSB7CgkJbWF4OiAxMDAwMCwKCQkKCSAgICBjb3VudCA6IDEwMDAwLAoJICAgIGNoZWNrIDogdHJ1ZSwKCQlpbmNyZWFzZVZhbHVlIDogNTAwLAoJICAgIG9sZCA6IDEwMDAwLAoJICAgIHN0YWduYW50IDogZmFsc2UKCX07CgoJcGxheWVyLnNwcmludCA9IHsKCSAgICBib29zdCA6IDAuMDAwMiwKCQlrZXkgOiAyMCwKCSAgICBzdGFtaW5hTG9zczogLTEsCgkJCgkgICAgc3RhdGUgOiBmYWxzZQoJfTsKCglwbGF5ZXIuanVtcCA9IHsKCQl5VmVsOiAwLjAwMywKCQlzdGFtaW5hTG9zczogLTI1MDAsCgkJCgkJY29vbGRvd25Cb29sOiBmYWxzZSwKCQljb3VudDogMAoJfTsKCglwbGF5ZXIud2FsayA9IHsKCQlzdGFtaW5hTG9zczogLTAuMDA1Cgl9OwoKCXBsYXllci50aW1lciA9IHsKCQlzdGFtaW5hSW5jcmVhc2VUaW1lciA6IDAsCgkJc3RhZ25hbnRUaW1lciA6IDAsCgkJanVtcENvb2xEb3duIDogMAoJfTsKCglwbGF5ZXIudGltZXJzTWF4ID0gewoJCXN0YW1pbmFJbmNyZWFzZVRpbWVyIDogMTAwMCwKCQlzdGFnbmFudFRpbWVyIDogMTAwMCwKCQlqdW1wQ29vbERvd24gOiA1MDAwCgl9Owp9Cgpib29sIGFjdGlvbiBjaGVja1N0YW1pbmEoc3RyIGlkKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoJCglwbGF5ZXIuc3RhbWluYS5jaGVjayA9IHRydWU7CglpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudDw9MCl7CgkJcGxheWVyLnN0YW1pbmEuY291bnQ9MDsKCQlwbGF5ZXIuc3RhbWluYS5jaGVjayA9IGZhbHNlOwoJCXBsYXllci5zcHJpbnQuc3RhdGUgPSBmYWxzZTsKCX0KCXJldHVybiAoYm9vbCkgcGxheWVyLnN0YW1pbmEuY2hlY2s7Cn0KCmFjdGlvbiBlZGl0U3RhbWluYShzdHIgaWQsIG51bSBlZGl0TnVtKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoJKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQrPSBlZGl0TnVtOwoJY2hlY2tTdGFtaW5hKGlkKTsKfQoKYm9vbCBhY3Rpb24gc3RhbWluYVN0YWduYW50KHN0ciBpZCwgbnVtIGRlbHRhKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKCWlmKChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50IDwgKG51bSkgcGxheWVyLnN0YW1pbmEubWF4KXsKCQlpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5vbGQgPT0gKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQpewoJCQl0aW1lcnNbMV0gKz0gZGVsdGE7CgkJfQoJCWVsc2UgaWYoKG51bSkgcGxheWVyLnN0YW1pbmEub2xkID4gKG51bSkgc3BsYXllci50YW1pbmEuY291bnQpewoJCQl0aW1lcnNbMV0gPSAwOwoJCQlwbGF5ZXIuc3RhbWluYS5zdGFnbmFudCA9IGZhbHNlOwoJCX0KCQlpZih0aW1lcnNbMV0gPj0gdGltZXJzTWF4WzFdKXsKCQkgICAgcGxheWVyLnN0YW1pbmEuc3RhZ25hbnQgPSB0cnVlOwoJCX0KCX0KCXBsYXllci5zdGFtaW5hLm9sZCA9IChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50OwoJcmV0dXJuIChib29sKSBwbGF5ZXIuc3RhbWluYS5zdGFnbmFudDsKfQoKYWN0aW9uIGluY3JlYXNlU3RhbWluYShzdHIgaWQsIG51bSBkZWx0YSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCgl0aW1lcnNbMF0rPWRlbHRhOwoJaWYodGltZXJzWzBdID49IHRpbWVyc01heFswXSl7CgkJdGltZXJzWzBdID0gMDsKCQlpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudDwobnVtKSBwbGF5ZXIuc3RhbWluYS5tYXgpewoJCQllZGl0U3RhbWluYSgobnVtKXBsYXllci5zdGFtaW5hLmluY3JlYXNlVmFsdWUpOwoJCQlpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudD4obnVtKSBwbGF5ZXIuc3RhbWluYS5tYXgpewoJCQkJcGxheWVyLnN0YW1pbmEuY291bnQ9KG51bSkgcGxheWVyLnN0YW1pbmEubWF4OwoJCQl9CgkJfQoJfQp9CgphY3Rpb24gd2Fsa1N0YW1pbmEoc3RyIGlkLCBvYmogaW5wdXRzKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKCWlmKCEhaW5wdXRzLm1vdkRpcil7CgkJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgIT0gMCl7CgkJCWVkaXRTdGFtaW5hKChudW0pIHBsYXllci53YWxrLnN0YW1pbmFMb3NzKTsKCQl9CgkJZWxzZSBpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCA9PSAwKXsKCQkJcGxheWVyLnZlbG9jaXR5LnggPSAwOwoJCQlwbGF5ZXIudmVsb2NpdHkueiA9IDA7CgkJfQoJfQp9CgphY3Rpb24gc3ByaW50UGxheWVyKHN0ciBpZCwgbnVtIGRlbHRhKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKICAgIG51bSB6Q29tcCA9IChudW0pIHNwcmludC5ib29zdCAqIGRlbHRhICogKE1hdGguY29zKChudW0pcGxheWVyLnJvdGF0aW9uLngpKTsKICAgIG51bSB4Q29tcCA9IChudW0pIHNwcmludC5ib29zdCAqIGRlbHRhICogKE1hdGguc2luKChudW0pcGxheWVyLnJvdGF0aW9uLngpKTsKICAgIChudW0pIHBsYXllci52ZWxvY2l0eS54IC09IHhDb21wOwogICAgKG51bSkgcGxheWVyLnZlbG9jaXR5LnogLT0gekNvbXA7CgogICAgZWRpdFN0YW1pbmEoKG51bSkgcGxheWVyLnNwcmludC5zdGFtaW5hTG9zcyAqIGRlbHRhKTsKfQoKYWN0aW9uIHNwcmludEFjdGl2ZShzdHIgaWQsIG51bSBjb2RlKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKICAgIGlmKGNvZGUgPT0gKG51bSkgcGxheWVyLnNwcmludC5rZXkpewogICAgICAgIGlmKChudW0pcGxheWVyLnN0YW1pbmEuY291bnQgPiAoKG51bSkgcGxheWVyLnNwcmludC5zdGFtaW5hTG9zcyotMSkpewogICAgICAgICAgICBwbGF5ZXIuc3ByaW50LnN0YXRlID0gdHJ1ZTsKICAgICAgICB9CgllbHNlewoJICAgIHBsYXllci5zcHJpbnQuc3RhdGU9ZmFsc2U7Cgl9CiAgfQp9CgphY3Rpb24gc3ByaW50RGVhY3RpdmUoc3RyIGlkLCBudW0gY29kZSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCiAgICBpZihjb2RlID09IChudW0pIHNwcmludC5rZXkpewogICAgICAgIHBsYXllci5zcHJpbnQuc3RhdGUgPSBmYWxzZTsKICAgIH0KfQoKYWN0aW9uIGNoZWNrU3ByaW50KHN0ciBpZCwgbnVtIGRlbHRhKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKICAgIGlmKCEhcGxheWVyLnNwcmludC5zdGF0ZSl7CiAgICAgICAgc3ByaW50UGxheWVyKGRlbHRhKTsKICAgIH0KfQoKYWN0aW9uIGNoZWNrRG91YmxlSnVtcChzdHIgaWQsIG51bSBkZWx0YSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCglpZighIXBsYXllci5qdW1wLmNvb2xkb3duQm9vbCl7CgkJdGltZXJzWzJdICs9IGRlbHRhOwoJCWlmKHRpbWVyc1syXSA+IHRpbWVyc01heFsyXSl7CgkJCXBsYXllci5qdW1wLmNvb2xkb3duQm9vbCA9IGZhbHNlOwoJCQl0aW1lcnNbMl0gPSAwOwoJCX0KCX0KfQoKYWN0aW9uIGRvdWJsZUp1bXAoc3RyIGlkLCBvYmogaW5wdXRzLCBudW0gZGVsdGEpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgoJaWYoIXBsYXllci5qdW1wLmNvb2xkb3duQm9vbCl7CgkJaWYoKG51bSlwbGF5ZXIuc3RhbWluYS5jb3VudCA+IChudW0pcGxheWVyLmp1bXAuc3RhbWluYUxvc3MpewoJCQlpZigobnVtKXBsYXllci5qdW1wLmNvdW50ID4gMCl7CiAgICAgICAgCQlpZighIXBsYXllci5vbkdyb3VuZCl7CiAgICAgICAgCSAgICAJcGxheWVyLmp1bXAuY291bnQgPSAwOwogICAgICAgIAkJfQogICAgCQl9CiAgICAJCiAgICAJCWlmKChudW0pIHBsYXllci5qdW1wLmNvdW50ID09IDEpewogICAgICAgIAkJaWYoIWlucHV0cy5qdW1wKXsKICAgICAgICAJICAgIAlwbGF5ZXIuanVtcC5jb3VudCA9IDI7CiAgICAgICAgCQl9CiAgICAJCX0KCQogICAgCQlpZighIWlucHV0cy5qdW1wKXsKICAgICAgICAJCWlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPT0gMCl7CiAgICAgICAgCSAgICAJcGxheWVyLmp1bXAuY291bnQgPSAxOwogICAgICAgIAkJfQogICAgICAgIAkJZWxzZSBpZigobnVtKXBsYXllci5qdW1wLmNvdW50ID09IDIpewoJCQkJCShudW0pIHBsYXllci52ZWxvY2l0eS55ICs9IChkZWx0YSAqIChudW0pcGxheWVyLmp1bXAueVZlbCk7CiAgICAgICAgCSAgICAJcGxheWVyLmp1bXAuY291bnQgPSAzOwoJCQkJCWVkaXRTdGFtaW5hKChudW0pIHBsYXllci5qdW1wLnN0YW1pbmFMb3NzKTsKCQkJCQlwbGF5ZXIuanVtcC5jb29sZG93bkJvb2wgPSB0cnVlOwogICAgICAgIAkJfQogICAgCQl9CgkJfQoJfQp9CgojIFJ1bnMgd2hlbiB0aGUgZ2FtZSBzdGFydHMKcHVibGljIGFjdGlvbiBzdGFydCgpIHsKCn0KCiMgUnVucyBldmVyeSBnYW1lIHRpY2sKcHVibGljIGFjdGlvbiB1cGRhdGUobnVtIGRlbHRhKSB7Cgp9CgojIFBsYXllciBzcGF3bnMgaW4KcHVibGljIGFjdGlvbiBvblBsYXllclNwYXduKHN0ciBpZCkgewoJaWYoISEoZmlyc3RKb2luKGlkKSkpewoJCWxvYWRQbGF5ZXJQcm9wcyhpZCk7Cgl9Cn0KCiMgUGxheWVyIGRpZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRlYXRoKHN0ciBpZCwgc3RyIGtpbGxlcklEKSB7Cgp9CgojIFBsYXllciBnb3QgZGFtYWdlZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGFtYWdlKHN0ciBpZCwgc3RyIGRvZXJJRCwgbnVtIGFtb3VudCkgewoKfQoKIyBQbGF5ZXIgdXBkYXRlCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJVcGRhdGUoc3RyIGlkLCBudW0gZGVsdGEsIG9iaiBpbnB1dHMpIHsKCn0KCiMgQ2FsbGVkIGZyb20gQ3VzdG9tIFRyaWdnZXIgQWN0aW9uCnB1YmxpYyBhY3Rpb24gb25DdXN0b21UcmlnZ2VyKHN0ciBwbGF5ZXJJRCwgc3RyIGN1c3RvbVBhcmFtLCBudW0gdmFsdWUpIHsKCn0KCiMgU2VydmVyIHJlY2VpdmVzIG5ldHdvcmsgbWVzc2FnZQpwdWJsaWMgYWN0aW9uIG9uTmV0d29ya01lc3NhZ2Uoc3RyIGlkLCBvYmogZGF0YSwgc3RyIHBsYXllcklEKSB7Cgp9CgojIFNlcnZlciByZWNlaXZlcyBjaGF0IG1lc3NhZ2UKcHVibGljIGFjdGlvbiBvbkNoYXRNZXNzYWdlKHN0ciBtc2csIHN0ciBwbGF5ZXJJRCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGxlYXZlcyB0aGUgc2VydmVyCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJMZWF2ZShzdHIgcGxheWVySUQpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSByb3VuZCBlbmRzCnB1YmxpYyBhY3Rpb24gb25HYW1lRW5kKCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGZpbmlzaGVkIGEgdmlkZW8KcHVibGljIGFjdGlvbiBvbkFkRmluaXNoZWQoc3RyIHBsYXllcklELCBib29sIHN1Y2Nlc3MpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSBzZXJ2ZXIgY2xvc2VzCnB1YmxpYyBhY3Rpb24gb25TZXJ2ZXJDbG9zZWQoKSB7Cgp9"}},"groups":{},"selected":"A6F78115-9842-4F25-A520-494227AEE174","cam":{"p":[12.074413630529309,494.67686136688747,-2.1234260193174532],"r":[-4.725999999999984,-1.5047963267948965,0]},"history":[]}
