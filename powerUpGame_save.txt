{"map":{"name":"powerUpGame","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"xyz":[550,10,737,7,11,7],"objects":[{"p":[0,-10,0],"meshUUID":"DFB07F59-E92C-4659-9B15-2B8E06471654","objUUID":"A6F78115-9842-4F25-A520-494227AEE174","si":0},{"p":[0,0,0],"meshUUID":"842BBAB3-852A-484B-82EA-48D9938D6958","objUUID":"7252406D-A0A4-4D9B-B910-1FCBD37976BA","i":5,"tm":0,"si":1}],"config":{"settings":{"slidSpd":0}},"scripts":{"client":"IyBDbGllbnQgU2NyaXB0IHJ1bnMgb25seSBvbiB0aGUgY2xpZW50CiMgS3J1bmtTY3JpcHQgQ29weXJpZ2h0IChDKSBZZW5kaXMgRW50ZXJ0YWlubWVudCBQdHkgTHRkCiMgCiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKIwoKb2JqIHBsYXllciA9IHsKCWZpcnN0TG9hZCA6IHRydWUKfTsKCm9iaiBzdGFtaW5hID0gewoJbWF4OiAxMDAwMCwKCQogICAgY291bnQgOiAxMDAwMCwKICAgIGNoZWNrIDogdHJ1ZSwKCWluY3JlYXNlVmFsdWUgOiA1MDAsCiAgICBvbGQgOiAxMDAwMCwKICAgIHN0YWduYW50IDogZmFsc2UKfTsKCm9iaiBzdGFtaW5hQmFyID0gewogICAgYmFja2dyb3VuZEJhciA6IHsKICAgICAgICBjc3M6ICd3aWR0aDo1NTBweDtoZWlnaHQ6NzVweDtwb3NpdGlvbjphYnNvbHV0ZTsnICsKCQkJICd0b3A6MyU7cmlnaHQ6MiU7JyArCgkJCSAnYmFja2dyb3VuZC1jb2xvcjojNTU1NTU1O2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6OTBweDsnICsKCQkJICdib3JkZXI6c29saWQgMnB4ICM1NTU1NTU7ZGlzcGxheTpibG9jaztvdmVyZmxvdy15OiBoaWRkZW47JyArCiAgICAgICAgICAgICAnY29sb3I6d2hpdGU7IGZvbnQtc2l6ZTogMjBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7JywKICAgIH0sCglzdGFtaW5hQmFyMSA6IHsKCQljc3M6ICd3aWR0aDo1MjhweDtoZWlnaHQ6NTVweDtwb3NpdGlvbjphYnNvbHV0ZTsnICsKCQkJICdiYWNrZ3JvdW5kLWNvbG9yOiMzRjM3Qzk7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo5MHB4O3RvcDo4cHg7bGVmdDo5cHg7JyArCgkJCSAnYm9yZGVyOnNvbGlkIDJweCAjM0YzN0M5O2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3cteTogaGlkZGVuOycgKwogICAgICAgICAgICAgJ2NvbG9yOndoaXRlOyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiBib2xkO3RleHQtYWxpZ246IGNlbnRlcjsnLAoJfQp9OwoKb2JqIHNwcmludCA9IHsKICAgIGJvb3N0IDogMC4wMDAyLAoJa2V5IDogMjAsCiAgICBzdGFtaW5hTG9zczogLTEsCgkKICAgIHN0YXRlIDogZmFsc2UKfTsKCm9iaiBqdW1wID0gewoJeVZlbDogMC4wMDMsCglzdGFtaW5hTG9zczogLTI1MDAsCgkKCWNvb2xkb3duQm9vbDogZmFsc2UsCgljb3VudDogMAp9OwoKb2JqIHdhbGsgPSB7CglzdGFtaW5hTG9zczogLTAuMDA1Cn07CgojIHN0YW1pbmFJbmNyZWFzZVRpbWVyLCBzdGFnbmFudFRpbWVyLCBqdW1wQ29vbERvd24KbnVtW10gdGltZXJzID0gbnVtWzAsMCwwXTsKbnVtW10gdGltZXJzTWF4ID0gbnVtWzEwMDAsIDEwMDAsIDUwMDBdOwoKYm9vbCBhY3Rpb24gY2hlY2tTdGFtaW5hKCl7CglzdGFtaW5hLmNoZWNrID0gdHJ1ZTsKCWlmKChudW0pIHN0YW1pbmEuY291bnQ8PTApewoJCXN0YW1pbmEuY291bnQ9MDsKCQlzdGFtaW5hLmNoZWNrID0gZmFsc2U7CgkJc3ByaW50LnN0YXRlID0gZmFsc2U7Cgl9CglyZXR1cm4gKGJvb2wpIHN0YW1pbmEuY2hlY2s7Cn0KCmFjdGlvbiBlZGl0U3RhbWluYShudW0gZWRpdE51bSl7CgkobnVtKSBzdGFtaW5hLmNvdW50Kz0gZWRpdE51bTsKCWNoZWNrU3RhbWluYSgpOwp9Cgpib29sIGFjdGlvbiBzdGFtaW5hU3RhZ25hbnQobnVtIGRlbHRhKXsKCWlmKChudW0pIHN0YW1pbmEuY291bnQgPCAobnVtKSBzdGFtaW5hLm1heCl7CgkJaWYoKG51bSkgc3RhbWluYS5vbGQgPT0gKG51bSkgc3RhbWluYS5jb3VudCl7CgkJCXRpbWVyc1sxXSArPSBkZWx0YTsKCQl9CgkJZWxzZSBpZigobnVtKSBzdGFtaW5hLm9sZCA+IChudW0pIHN0YW1pbmEuY291bnQpewoJCQl0aW1lcnNbMV0gPSAwOwoJCQlzdGFtaW5hLnN0YWduYW50ID0gZmFsc2U7CgkJfQoJCWlmKHRpbWVyc1sxXSA+PSB0aW1lcnNNYXhbMV0pewoJCSAgICBzdGFtaW5hLnN0YWduYW50ID0gdHJ1ZTsKCQl9Cgl9CglzdGFtaW5hLm9sZCA9IChudW0pIHN0YW1pbmEuY291bnQ7CglyZXR1cm4gKGJvb2wpIHN0YW1pbmEuc3RhZ25hbnQ7Cn0KCmFjdGlvbiBpbmNyZWFzZVN0YW1pbmEobnVtIGRlbHRhKXsKCXRpbWVyc1swXSs9ZGVsdGE7CglpZih0aW1lcnNbMF0gPj0gdGltZXJzTWF4WzBdKXsKCQl0aW1lcnNbMF0gPSAwOwoJCWlmKChudW0pIHN0YW1pbmEuY291bnQ8KG51bSkgc3RhbWluYS5tYXgpewoJCQllZGl0U3RhbWluYSgobnVtKXN0YW1pbmEuaW5jcmVhc2VWYWx1ZSk7CgkJCWlmKChudW0pIHN0YW1pbmEuY291bnQ+KG51bSkgc3RhbWluYS5tYXgpewoJCQkJc3RhbWluYS5jb3VudD0obnVtKSBzdGFtaW5hLm1heDsKCQkJfQoJCX0KCX0KfQoKYWN0aW9uIHdhbGtTdGFtaW5hKG9iaiBpbnB1dHMpewoJaWYoISFpbnB1dHMubW92RGlyKXsKCQlpZigobnVtKSBzdGFtaW5hLmNvdW50ICE9IDApewoJCQllZGl0U3RhbWluYSgobnVtKSB3YWxrLnN0YW1pbmFMb3NzKTsKCQl9CgkJZWxzZSBpZigobnVtKSBzdGFtaW5hLmNvdW50ID09IDApewoJCQlwbGF5ZXIudmVsb2NpdHkueCA9IDA7CgkJCXBsYXllci52ZWxvY2l0eS56ID0gMDsKCQl9Cgl9Cn0KCmFjdGlvbiBzcHJpbnRQbGF5ZXIobnVtIGRlbHRhKXsKICAgIG51bSB6Q29tcCA9IChudW0pIHNwcmludC5ib29zdCAqIGRlbHRhICogKE1hdGguY29zKChudW0pcGxheWVyLnJvdGF0aW9uLngpKTsKICAgIG51bSB4Q29tcCA9IChudW0pIHNwcmludC5ib29zdCAqIGRlbHRhICogKE1hdGguc2luKChudW0pcGxheWVyLnJvdGF0aW9uLngpKTsKICAgIChudW0pIHBsYXllci52ZWxvY2l0eS54IC09IHhDb21wOwogICAgKG51bSkgcGxheWVyLnZlbG9jaXR5LnogLT0gekNvbXA7CgogICAgZWRpdFN0YW1pbmEoKG51bSkgc3ByaW50LnN0YW1pbmFMb3NzICogZGVsdGEpOwp9CgphY3Rpb24gc3ByaW50QWN0aXZlKG51bSBjb2RlKXsKICAgIGlmKGNvZGUgPT0gKG51bSkgc3ByaW50LmtleSl7CiAgICAgICAgaWYoKG51bSlzdGFtaW5hLmNvdW50ID4gKChudW0pIHNwcmludC5zdGFtaW5hTG9zcyotMSkpewogICAgICAgICAgICBzcHJpbnQuc3RhdGUgPSB0cnVlOwogICAgICAgIH0KCWVsc2V7CgkgICAgc3ByaW50LnN0YXRlPWZhbHNlOwoJfQogIH0KfQoKYWN0aW9uIHNwcmludERlYWN0aXZlKG51bSBjb2RlKXsKICAgIGlmKGNvZGUgPT0gKG51bSkgc3ByaW50LmtleSl7CiAgICAgICAgc3ByaW50LnN0YXRlID0gZmFsc2U7CiAgICB9Cn0KCmFjdGlvbiBjaGVja1NwcmludChudW0gZGVsdGEpewogICAgaWYoISFzcHJpbnQuc3RhdGUpewogICAgICAgIHNwcmludFBsYXllcihkZWx0YSk7CiAgICB9Cn0KCmFjdGlvbiBjaGVja0RvdWJsZUp1bXAobnVtIGRlbHRhKXsKCWlmKCEhanVtcC5jb29sZG93bkJvb2wpewoJCXRpbWVyc1syXSArPSBkZWx0YTsKCQlpZih0aW1lcnNbMl0gPiB0aW1lcnNNYXhbMl0pewoJCQlqdW1wLmNvb2xkb3duQm9vbCA9IGZhbHNlOwoJCQl0aW1lcnNbMl0gPSAwOwoJCX0KCX0KfQoKYWN0aW9uIGRvdWJsZUp1bXAob2JqIGlucHV0cywgbnVtIGRlbHRhKXsKCWlmKCFqdW1wLmNvb2xkb3duQm9vbCl7CgkJaWYoKG51bSlzdGFtaW5hLmNvdW50ID4gKG51bSlqdW1wLnN0YW1pbmFMb3NzKXsKCQkJaWYoKG51bSlqdW1wLmNvdW50ID4gMCl7CiAgICAgICAgCQlpZighIXBsYXllci5vbkdyb3VuZCl7CiAgICAgICAgCSAgICAJanVtcC5jb3VudCA9IDA7CiAgICAgICAgCQl9CiAgICAJCX0KICAgIAkKICAgIAkJaWYoKG51bSkganVtcC5jb3VudCA9PSAxKXsKICAgICAgICAJCWlmKCFpbnB1dHMuanVtcCl7CiAgICAgICAgCSAgICAJanVtcC5jb3VudCA9IDI7CiAgICAgICAgCQl9CiAgICAJCX0KCQogICAgCQlpZighIWlucHV0cy5qdW1wKXsKICAgICAgICAJCWlmKChudW0panVtcC5jb3VudCA9PSAwKXsKICAgICAgICAJICAgIAlqdW1wLmNvdW50ID0gMTsKICAgICAgICAJCX0KICAgICAgICAJCWVsc2UgaWYoKG51bSlqdW1wLmNvdW50ID09IDIpewoJCQkJCShudW0pIHBsYXllci52ZWxvY2l0eS55ICs9IChkZWx0YSAqIChudW0panVtcC55VmVsKTsKICAgICAgICAJICAgIAlqdW1wLmNvdW50ID0gMzsKCQkJCQllZGl0U3RhbWluYSgobnVtKSBqdW1wLnN0YW1pbmFMb3NzKTsKCQkJCQlqdW1wLmNvb2xkb3duQm9vbCA9IHRydWU7CiAgICAgICAgCQl9CiAgICAJCX0KCQl9Cgl9Cn0KCmFjdGlvbiByZW5kZXJTdGFtaW5hQmFyKCl7CiAgICBHQU1FLlVJLmFkZERJVignYmFja2dyb3VuZEJhcicsIHRydWUsIHN0YW1pbmFCYXIuYmFja2dyb3VuZEJhci5jc3MpOwogICAgR0FNRS5VSS5hZGRESVYoJ3N0YW1pbmFCYXInLCB0cnVlLCBzdGFtaW5hQmFyLnN0YW1pbmFCYXIxLmNzcywgJ2JhY2tncm91bmRCYXInKTsKCUdBTUUuVUkuYWRkRElWKCdzdGFtaW5hQmFyVGV4dCcsIHRydWUsICdwb3NpdGlvbjpmaXhlZDtsaW5lLWhlaWdodDo1MHB4OycsICdzdGFtaW5hQmFyJyk7CglHQU1FLlVJLnVwZGF0ZURJVlRleHQoJ3N0YW1pbmFCYXJUZXh0JywgJ1NUQU1JTkEnKTsKCUdBTUUuVUkudXBkYXRlRElWKCdzdGFtaW5hQmFyVGV4dCcsICdmb250LXNpemUnLCAnMzBweCcpOwoJR0FNRS5VSS51cGRhdGVESVYoJ3N0YW1pbmFCYXJUZXh0JywgJ2NvbG9yJywgJ3doaXRlJyk7CglHQU1FLlVJLnVwZGF0ZURJVignc3RhbWluYUJhclRleHQnLCAndGV4dC1pbmRlbnQnLCAnMjAwcHgnKTsKfQoKYWN0aW9uIHVwZGF0ZVN0YW1pbmFCYXIoKXsKCW51bSByYXRpbyA9ICgobnVtKSBzdGFtaW5hLmNvdW50IC8gKG51bSkgc3RhbWluYS5tYXgpOwoJc3RyIG5ld1dpZHRoID0gdG9TdHIgKFVUSUxTLm1hdGguZmxvb3IoNTI4ICogcmF0aW8pKSArICdweCc7CglHQU1FLlVJLnVwZGF0ZURJVignc3RhbWluYUJhcicsICd3aWR0aCcsIG5ld1dpZHRoKTsKfQoKIyBSdW5zIHdoZW4gdGhlIGdhbWUgc3RhcnRzCnB1YmxpYyBhY3Rpb24gc3RhcnQoKSB7Cgp9CgojIFJ1bnMgZXZlcnkgZ2FtZSB0aWNrCnB1YmxpYyBhY3Rpb24gdXBkYXRlKG51bSBkZWx0YSkgewogICAgY2hlY2tTdGFtaW5hKCk7CgljaGVja0RvdWJsZUp1bXAoZGVsdGEpOwoJR0FNRS5sb2coc3RhbWluYS5jb3VudCk7Cn0KCiMgQWRkIHJlbmRlcmluZyBsb2dpYyBpbiBoZXJlCnB1YmxpYyBhY3Rpb24gcmVuZGVyKG51bSBkZWx0YSkgewoJaWYoKG51bSkgc3RhbWluYS5jb3VudCAhPSAobnVtKSBzdGFtaW5hLm9sZCl7CgkJdXBkYXRlU3RhbWluYUJhcigpOwoJfQp9CgojIFBsYXllciBzcGF3bnMgaW4KcHVibGljIGFjdGlvbiBvblBsYXllclNwYXduKHN0ciBpZCkgewoJaWYoISFwbGF5ZXIuZmlyc3RMb2FkKXsKICAgIAlwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZ2V0U2VsZigpOwogICAgCXJlbmRlclN0YW1pbmFCYXIoKTsKCQlwbGF5ZXIuZmlyc3RMb2FkID0gZmFsc2U7Cgl9CglzdGFtaW5hLmNvdW50ID0gMTAwMDA7Cn0KCiMgUGxheWVyIGRpZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRlYXRoKHN0ciBpZCwgc3RyIGtpbGxlcklEKSB7Cgp9CgojIFBsYXllciB1cGRhdGUKcHVibGljIGFjdGlvbiBvblBsYXllclVwZGF0ZShzdHIgaWQsIG51bSBkZWx0YSwgb2JqIGlucHV0cykgewoJaWYoISFzdGFtaW5hU3RhZ25hbnQoZGVsdGEpKXsKCQlpbmNyZWFzZVN0YW1pbmEoZGVsdGEpOwoJfQogICAgY2hlY2tTcHJpbnQoZGVsdGEpOwoJZG91YmxlSnVtcChpbnB1dHMsIGRlbHRhKTsKCXdhbGtTdGFtaW5hKGlucHV0cyk7Cn0KCiMgVXNlciBwcmVzc2VkIGEga2V5CnB1YmxpYyBhY3Rpb24gb25LZXlQcmVzcyhzdHIga2V5LCBudW0gY29kZSkgewogICAgc3ByaW50QWN0aXZlKGNvZGUpOwp9CgojIFVzZXIgcmVsZWFzZWQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleVVwKHN0ciBrZXksIG51bSBjb2RlKSB7CiAgICBzcHJpbnREZWFjdGl2ZShjb2RlKTsKfQoKIyBVc2VyIGhlbGQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleUhlbGQoc3RyIGtleSwgbnVtIGNvZGUpIHsKICAgIAp9CgojIFVzZXIgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlQ2xpY2sobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7Cgp9CgojIFVzZXIgcmVsZWFzZWQgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlVXAobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7Cgp9CgojIFVzZXIgc2Nyb2xsZWQgb24gc2NyZWVuCnB1YmxpYyBhY3Rpb24gb25Nb3VzZVNjcm9sbChudW0gZGlyKSB7Cgp9CgojIFVzZXIgY2xpY2tlZCBhIERJViAoSUQpCnB1YmxpYyBhY3Rpb24gb25ESVZDbGlja2VkKHN0ciBpZCkgewoKfQoKIyBDbGllbnQgcmVjZWl2ZXMgbmV0d29yayBtZXNzYWdlCnB1YmxpYyBhY3Rpb24gb25OZXR3b3JrTWVzc2FnZShzdHIgaWQsIG9iaiBkYXRhKSB7Cgp9","server":"IyBTZXJ2ZXIgU2NyaXB0IHJ1bnMgb25seSBvbiBIb3N0ZWQgc2VydmVyICYgbm90IGluIHRlc3QgbW9kZQojIEtydW5rU2NyaXB0IENvcHlyaWdodCAoQykgWWVuZGlzIEVudGVydGFpbm1lbnQgUHR5IEx0ZApudW0gbWF4UGxheWVyID0gLTE7CiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKCmJvb2wgYWN0aW9uIGZpcnN0Sm9pbihzdHIgaWQpewoJYm9vbCBmaXJzdCA9IGZhbHNlOwoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgoJaWYoKG51bSkgcGxheWVyLnNpZCA+IG1heFBsYXllcil7CgkJZmlyc3QgPSB0cnVlOwoJCW1heFBsYXllciA9IChudW0pIHBsYXllci5zaWQ7Cgl9CgkKCXJldHVybiBmaXJzdDsKfQoKYWN0aW9uIGxvYWRQbGF5ZXJQcm9wcyhzdHIgaWQpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgoJcGxheWVyLnN0YW1pbmEgPSB7CgkJbWF4OiAxMDAwMCwKCQkKCSAgICBjb3VudCA6IDEwMDAwLAoJICAgIGNoZWNrIDogdHJ1ZSwKCQlpbmNyZWFzZVZhbHVlIDogNTAwLAoJICAgIG9sZCA6IDEwMDAwLAoJICAgIHN0YWduYW50IDogZmFsc2UKCX07CgoJcGxheWVyLnNwcmludCA9IHsKCSAgICBib29zdCA6IDAuMDAwMiwKCQlrZXkgOiAyMCwKCSAgICBzdGFtaW5hTG9zczogLTEsCgkJCgkgICAgc3RhdGUgOiBmYWxzZQoJfTsKCglwbGF5ZXIuanVtcCA9IHsKCQl5VmVsOiAwLjAwMywKCQlzdGFtaW5hTG9zczogLTI1MDAsCgkJCgkJY29vbGRvd25Cb29sOiBmYWxzZSwKCQljb3VudDogMAoJfTsKCglwbGF5ZXIud2FsayA9IHsKCQlzdGFtaW5hTG9zczogLTAuMDA1Cgl9OwoKCXBsYXllci50aW1lciA9IHsKCQlzdGFtaW5hSW5jcmVhc2VUaW1lciA6IDAsCgkJc3RhZ25hbnRUaW1lciA6IDAsCgkJanVtcENvb2xEb3duIDogMAoJfTsKCglwbGF5ZXIudGltZXJzTWF4ID0gewoJCXN0YW1pbmFJbmNyZWFzZVRpbWVyIDogMTAwMCwKCQlzdGFnbmFudFRpbWVyIDogMTAwMCwKCQlqdW1wQ29vbERvd24gOiA1MDAwIAoJfTsKfQoKYm9vbCBhY3Rpb24gY2hlY2tTdGFtaW5hKHN0ciBpZCl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCQoJcGxheWVyLnN0YW1pbmEuY2hlY2sgPSB0cnVlOwoJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQ8PTApewoJCXBsYXllci5zdGFtaW5hLmNvdW50PTA7CgkJcGxheWVyLnN0YW1pbmEuY2hlY2sgPSBmYWxzZTsKCQlwbGF5ZXIuc3ByaW50LnN0YXRlID0gZmFsc2U7Cgl9CglyZXR1cm4gKGJvb2wpIHBsYXllci5zdGFtaW5hLmNoZWNrOwp9CgphY3Rpb24gZWRpdFN0YW1pbmEoc3RyIGlkLCBudW0gZWRpdE51bSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCShudW0pIHBsYXllci5zdGFtaW5hLmNvdW50Kz0gZWRpdE51bTsKCWNoZWNrU3RhbWluYShpZCk7Cn0KCmJvb2wgYWN0aW9uIHN0YW1pbmFTdGFnbmFudChzdHIgaWQsIG51bSBkZWx0YSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCglpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCA8IChudW0pIHBsYXllci5zdGFtaW5hLm1heCl7CgkJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEub2xkID09IChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50KXsKCQkJKG51bSkgcGxheWVyLnRpbWVyLnN0YWduYW50VGltZXIgKz0gZGVsdGE7CgkJfQoJCWVsc2UgaWYoKG51bSkgcGxheWVyLnN0YW1pbmEub2xkID4gKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQpewoJCQkobnVtKSBwbGF5ZXIudGltZXIuc3RhZ25hbnRUaW1lciA9IDA7CgkJCXBsYXllci5zdGFtaW5hLnN0YWduYW50ID0gZmFsc2U7CgkJfQoJCWlmKChudW0pIHBsYXllci50aW1lci5zdGFnbmFudFRpbWVyID49IChudW0pIHBsYXllci50aW1lcnNNYXguc3RhZ25hbnRUaW1lcil7CgkJICAgIHBsYXllci5zdGFtaW5hLnN0YWduYW50ID0gdHJ1ZTsKCQl9Cgl9CglwbGF5ZXIuc3RhbWluYS5vbGQgPSAobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudDsKCXJldHVybiAoYm9vbCkgcGxheWVyLnN0YW1pbmEuc3RhZ25hbnQ7Cn0KCmFjdGlvbiBpbmNyZWFzZVN0YW1pbmEoc3RyIGlkLCBudW0gZGVsdGEpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgoJKG51bSkgcGxheWVyLnRpbWVyLnN0YW1pbmFJbmNyZWFzZVRpbWVyICs9ZGVsdGE7CglpZigobnVtKSBwbGF5ZXIudGltZXIuc3RhbWluYUluY3JlYXNlVGltZXIgID49IChudW0pIHBsYXllci50aW1lcnNNYXguc3RhbWluYUluY3JlYXNlVGltZXIpewoJCShudW0pIHBsYXllci50aW1lci5zdGFtaW5hSW5jcmVhc2VUaW1lciAgPSAwOwoJCWlmKChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50PChudW0pIHBsYXllci5zdGFtaW5hLm1heCl7CgkJCWVkaXRTdGFtaW5hKGlkLCAobnVtKXBsYXllci5zdGFtaW5hLmluY3JlYXNlVmFsdWUpOwoJCQlpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudD4obnVtKSBwbGF5ZXIuc3RhbWluYS5tYXgpewoJCQkJcGxheWVyLnN0YW1pbmEuY291bnQ9KG51bSkgcGxheWVyLnN0YW1pbmEubWF4OwoJCQl9CgkJfQoJfQp9CgphY3Rpb24gd2Fsa1N0YW1pbmEoc3RyIGlkLCBvYmogaW5wdXRzKXsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQoaWQpOwoKCWlmKCEhaW5wdXRzLm1vdkRpcil7CgkJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgIT0gMCl7CgkJCWVkaXRTdGFtaW5hKGlkLCAobnVtKSBwbGF5ZXIud2Fsay5zdGFtaW5hTG9zcyk7CgkJfQoJCWVsc2UgaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgPT0gMCl7CgkJCXBsYXllci52ZWxvY2l0eS54ID0gMDsKCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCX0KCX0KfQoKYWN0aW9uIHNwcmludFBsYXllcihzdHIgaWQsIG51bSBkZWx0YSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCiAgICBudW0gekNvbXAgPSAobnVtKSBwbGF5ZXIuc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5jb3MoKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgbnVtIHhDb21wID0gKG51bSkgcGxheWVyLnNwcmludC5ib29zdCAqIGRlbHRhICogKE1hdGguc2luKChudW0pcGxheWVyLnJvdGF0aW9uLngpKTsKICAgIChudW0pIHBsYXllci52ZWxvY2l0eS54IC09IHhDb21wOwogICAgKG51bSkgcGxheWVyLnZlbG9jaXR5LnogLT0gekNvbXA7CgogICAgZWRpdFN0YW1pbmEoaWQsIChudW0pIHBsYXllci5zcHJpbnQuc3RhbWluYUxvc3MgKiBkZWx0YSk7Cn0KCmFjdGlvbiBzcHJpbnRBY3RpdmUoc3RyIGlkLCBudW0gY29kZSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCiAgICBpZihjb2RlID09IChudW0pIHBsYXllci5zcHJpbnQua2V5KXsKICAgICAgICBpZigobnVtKXBsYXllci5zdGFtaW5hLmNvdW50ID4gKChudW0pIHBsYXllci5zcHJpbnQuc3RhbWluYUxvc3MqLTEpKXsKICAgICAgICAgICAgcGxheWVyLnNwcmludC5zdGF0ZSA9IHRydWU7CiAgICAgICAgfQoJZWxzZXsKCSAgICBwbGF5ZXIuc3ByaW50LnN0YXRlPWZhbHNlOwoJfQogIH0KfQoKYWN0aW9uIHNwcmludERlYWN0aXZlKHN0ciBpZCwgbnVtIGNvZGUpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgogICAgaWYoY29kZSA9PSAobnVtKSBwbGF5ZXIuc3ByaW50LmtleSl7CiAgICAgICAgcGxheWVyLnNwcmludC5zdGF0ZSA9IGZhbHNlOwogICAgfQp9CgphY3Rpb24gY2hlY2tTcHJpbnQoc3RyIGlkLCBudW0gZGVsdGEpewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5maW5kQnlJRChpZCk7CgogICAgaWYoISFwbGF5ZXIuc3ByaW50LnN0YXRlKXsKICAgICAgICBzcHJpbnRQbGF5ZXIoaWQsIGRlbHRhKTsKICAgIH0KfQoKYWN0aW9uIGNoZWNrRG91YmxlSnVtcChzdHIgaWQsIG51bSBkZWx0YSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCglpZighIXBsYXllci5qdW1wLmNvb2xkb3duQm9vbCl7CgkJKG51bSkgcGxheWVyLnRpbWVyLmp1bXBDb29sRG93biArPSBkZWx0YTsKCQlpZigobnVtKSBwbGF5ZXIudGltZXIuanVtcENvb2xEb3duID4gKG51bSkgcGxheWVyLnRpbWVyc01heC5qdW1wQ29vbERvd24pewoJCQlwbGF5ZXIuanVtcC5jb29sZG93bkJvb2wgPSBmYWxzZTsKCQkJKG51bSkgcGxheWVyLnRpbWVyLmp1bXBDb29sRG93biA9IDA7CgkJfQoJfQp9CgphY3Rpb24gZG91YmxlSnVtcChzdHIgaWQsIG9iaiBpbnB1dHMsIG51bSBkZWx0YSl7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCglpZighcGxheWVyLmp1bXAuY29vbGRvd25Cb29sKXsKCQlpZigobnVtKXBsYXllci5zdGFtaW5hLmNvdW50ID4gKG51bSlwbGF5ZXIuanVtcC5zdGFtaW5hTG9zcyl7CgkJCWlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPiAwKXsKICAgICAgICAJCWlmKCEhcGxheWVyLm9uR3JvdW5kKXsKICAgICAgICAJICAgIAlwbGF5ZXIuanVtcC5jb3VudCA9IDA7CiAgICAgICAgCQl9CiAgICAJCX0KICAgIAkKICAgIAkJaWYoKG51bSkgcGxheWVyLmp1bXAuY291bnQgPT0gMSl7CiAgICAgICAgCQlpZighaW5wdXRzLmp1bXApewogICAgICAgIAkgICAgCXBsYXllci5qdW1wLmNvdW50ID0gMjsKICAgICAgICAJCX0KICAgIAkJfQoJCiAgICAJCWlmKCEhaW5wdXRzLmp1bXApewogICAgICAgIAkJaWYoKG51bSlwbGF5ZXIuanVtcC5jb3VudCA9PSAwKXsKICAgICAgICAJICAgIAlwbGF5ZXIuanVtcC5jb3VudCA9IDE7CiAgICAgICAgCQl9CiAgICAgICAgCQllbHNlIGlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPT0gMil7CgkJCQkJKG51bSkgcGxheWVyLnZlbG9jaXR5LnkgKz0gKGRlbHRhICogKG51bSlwbGF5ZXIuanVtcC55VmVsKTsKICAgICAgICAJICAgIAlwbGF5ZXIuanVtcC5jb3VudCA9IDM7CgkJCQkJZWRpdFN0YW1pbmEoaWQsIChudW0pIHBsYXllci5qdW1wLnN0YW1pbmFMb3NzKTsKCQkJCQlwbGF5ZXIuanVtcC5jb29sZG93bkJvb2wgPSB0cnVlOwogICAgICAgIAkJfQogICAgCQl9CgkJfQoJfQp9CgojIFJ1bnMgd2hlbiB0aGUgZ2FtZSBzdGFydHMKcHVibGljIGFjdGlvbiBzdGFydCgpIHsKCn0KCiMgUnVucyBldmVyeSBnYW1lIHRpY2sKcHVibGljIGFjdGlvbiB1cGRhdGUobnVtIGRlbHRhKSB7Cgp9CgojIFBsYXllciBzcGF3bnMgaW4KcHVibGljIGFjdGlvbiBvblBsYXllclNwYXduKHN0ciBpZCkgewoJaWYoISEoZmlyc3RKb2luKGlkKSkpewoJCWxvYWRQbGF5ZXJQcm9wcyhpZCk7Cgl9Cn0KCiMgUGxheWVyIGRpZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRlYXRoKHN0ciBpZCwgc3RyIGtpbGxlcklEKSB7Cgp9CgojIFBsYXllciBnb3QgZGFtYWdlZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGFtYWdlKHN0ciBpZCwgc3RyIGRvZXJJRCwgbnVtIGFtb3VudCkgewoKfQoKIyBQbGF5ZXIgdXBkYXRlCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJVcGRhdGUoc3RyIGlkLCBudW0gZGVsdGEsIG9iaiBpbnB1dHMpIHsKCn0KCiMgQ2FsbGVkIGZyb20gQ3VzdG9tIFRyaWdnZXIgQWN0aW9uCnB1YmxpYyBhY3Rpb24gb25DdXN0b21UcmlnZ2VyKHN0ciBwbGF5ZXJJRCwgc3RyIGN1c3RvbVBhcmFtLCBudW0gdmFsdWUpIHsKCn0KCiMgU2VydmVyIHJlY2VpdmVzIG5ldHdvcmsgbWVzc2FnZQpwdWJsaWMgYWN0aW9uIG9uTmV0d29ya01lc3NhZ2Uoc3RyIGlkLCBvYmogZGF0YSwgc3RyIHBsYXllcklEKSB7Cgp9CgojIFNlcnZlciByZWNlaXZlcyBjaGF0IG1lc3NhZ2UKcHVibGljIGFjdGlvbiBvbkNoYXRNZXNzYWdlKHN0ciBtc2csIHN0ciBwbGF5ZXJJRCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGxlYXZlcyB0aGUgc2VydmVyCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJMZWF2ZShzdHIgcGxheWVySUQpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSByb3VuZCBlbmRzCnB1YmxpYyBhY3Rpb24gb25HYW1lRW5kKCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGZpbmlzaGVkIGEgdmlkZW8KcHVibGljIGFjdGlvbiBvbkFkRmluaXNoZWQoc3RyIHBsYXllcklELCBib29sIHN1Y2Nlc3MpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSBzZXJ2ZXIgY2xvc2VzCnB1YmxpYyBhY3Rpb24gb25TZXJ2ZXJDbG9zZWQoKSB7Cgp9"}},"groups":{},"selected":"A6F78115-9842-4F25-A520-494227AEE174","cam":{"p":[12.074413630529309,494.67686136688747,-2.1234260193174532],"r":[-4.725999999999984,-1.5047963267948965,0]},"history":[]}
