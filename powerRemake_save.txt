{"map":{"name":"powerRemake","ambient":"#97a0a8","light":"#f2f8fc","sky":"#dce8ed","fog":"#8d9aa0","fogD":2000,"xyz":[429,10,367,7,11,7],"objects":[{"p":[0,-10,0],"meshUUID":"E2404294-2789-4360-B7C1-FA4F5D955E81","objUUID":"152D95E3-AC0C-4A32-A636-0682AD37D967","si":0},{"p":[0,0,0],"meshUUID":"410DCDAD-508D-4050-AE70-79AAF1065C83","objUUID":"16820A27-2B8F-4317-9012-B15834E29555","i":5,"tm":0,"si":1}],"scripts":{"client":"IyBDbGllbnQgU2NyaXB0IHJ1bnMgb25seSBvbiB0aGUgY2xpZW50CiMgS3J1bmtTY3JpcHQgQ29weXJpZ2h0IChDKSBZZW5kaXMgRW50ZXJ0YWlubWVudCBQdHkgTHRkCmJvb2wgZmlyc3QgPSB0cnVlOwojIEFkZCBjdXN0b20gYWN0aW9ucyBoZXJlCgpvYmogc3RhbWluYUJhciA9IHsKICAgIGJhY2tncm91bmRCYXIgOiB7CiAgICAgICAgY3NzOiAnd2lkdGg6NTUwcHg7aGVpZ2h0Ojc1cHg7cG9zaXRpb246YWJzb2x1dGU7JyArCgkJCSAndG9wOjMlO3JpZ2h0OjIlOycgKwoJCQkgJ2JhY2tncm91bmQtY29sb3I6IzU1NTU1NTtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjkwcHg7JyArCgkJCSAnYm9yZGVyOnNvbGlkIDJweCAjNTU1NTU1O2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3cteTogaGlkZGVuOycgKwogICAgICAgICAgICAgJ2NvbG9yOndoaXRlOyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiBib2xkOycsCiAgICB9LAoJc3RhbWluYUJhcjEgOiB7CgkJY3NzOiAnd2lkdGg6NTI4cHg7aGVpZ2h0OjU1cHg7cG9zaXRpb246YWJzb2x1dGU7JyArCgkJCSAnYmFja2dyb3VuZC1jb2xvcjojM0YzN0M5O2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6OTBweDt0b3A6OHB4O2xlZnQ6OXB4OycgKwoJCQkgJ2JvcmRlcjpzb2xpZCAycHggIzNGMzdDOTtkaXNwbGF5OmJsb2NrO292ZXJmbG93LXk6IGhpZGRlbjsnICsKICAgICAgICAgICAgICdjb2xvcjp3aGl0ZTsgZm9udC1zaXplOiAyMHB4OyBmb250LXdlaWdodDogYm9sZDt0ZXh0LWFsaWduOiBjZW50ZXI7JywKCX0KfTsKCmFjdGlvbiByZW5kZXJTdGFtaW5hYmFyKCl7CglHQU1FLlVJLmFkZERJVignYmFja2dyb3VuZEJhcicsIHRydWUsIHN0YW1pbmFCYXIuYmFja2dyb3VuZEJhci5jc3MpOwogICAgR0FNRS5VSS5hZGRESVYoJ3N0YW1pbmFCYXInLCB0cnVlLCBzdGFtaW5hQmFyLnN0YW1pbmFCYXIxLmNzcywgJ2JhY2tncm91bmRCYXInKTsKCUdBTUUuVUkuYWRkRElWKCdzdGFtaW5hQmFyVGV4dCcsIHRydWUsICdwb3NpdGlvbjpmaXhlZDtsaW5lLWhlaWdodDo1MHB4OycsICdzdGFtaW5hQmFyJyk7CglHQU1FLlVJLnVwZGF0ZURJVlRleHQoJ3N0YW1pbmFCYXJUZXh0JywgJ1NUQU1JTkEnKTsKCUdBTUUuVUkudXBkYXRlRElWKCdzdGFtaW5hQmFyVGV4dCcsICdmb250LXNpemUnLCAnMzBweCcpOwoJR0FNRS5VSS51cGRhdGVESVYoJ3N0YW1pbmFCYXJUZXh0JywgJ2NvbG9yJywgJ3doaXRlJyk7CglHQU1FLlVJLnVwZGF0ZURJVignc3RhbWluYUJhclRleHQnLCAndGV4dC1pbmRlbnQnLCAnMjAwcHgnKTsKfQoKCiMgUnVucyB3aGVuIHRoZSBnYW1lIHN0YXJ0cwpwdWJsaWMgYWN0aW9uIHN0YXJ0KCkgewoJCn0KCiMgUnVucyBldmVyeSBnYW1lIHRpY2sKcHVibGljIGFjdGlvbiB1cGRhdGUobnVtIGRlbHRhKSB7Cgp9CgojIEFkZCByZW5kZXJpbmcgbG9naWMgaW4gaGVyZQpwdWJsaWMgYWN0aW9uIHJlbmRlcihudW0gZGVsdGEpIHsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZ2V0U2VsZigpOwoJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgIT0gKG51bSkgcGxheWVyLnN0YW1pbmEub2xkKXsKCQludW0gcmF0aW8gPSAoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgLyAobnVtKSBwbGF5ZXIuc3RhbWluYS5tYXgpOwoJCXN0ciBuZXdXaWR0aCA9IHRvU3RyIChVVElMUy5tYXRoLmZsb29yKDUyOCAqIHJhdGlvKSkgKyAncHgnOwoJCUdBTUUuVUkudXBkYXRlRElWKCdzdGFtaW5hQmFyJywgJ3dpZHRoJywgbmV3V2lkdGgpOwoJCQoJCXBsYXllci5zdGFtaW5hLm9sZCA9IHBsYXllci5zdGFtaW5hLmNvdW50OwoJfQp9CgojIFBsYXllciBzcGF3bnMgaW4KcHVibGljIGFjdGlvbiBvblBsYXllclNwYXduKHN0ciBpZCkgewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CglwbGF5ZXIuc3ByaW50U3RhdGUgPSBmYWxzZTsKCXBsYXllci5zcHJpbnRTdGF0ZU9sZCA9IGZhbHNlOwoJcGxheWVyLmp1bXBDb29sZG93bkJvb2wgPSBmYWxzZTsKCQoJcmVuZGVyU3RhbWluYWJhcigpOwoKCWlmKCEhZmlyc3QpewoJCWZpcnN0ID0gZmFsc2U7CgkJcGxheWVyLmhhc0p1bXAgPSB0cnVlOwoJCXBsYXllci5oYXNTcHJpbnQgPSB0cnVlOwoJfQoKCXBsYXllci5zdGFtaW5hID0gewoJCW1heDogMTAwMDAsCgkJCgkgICAgY291bnQgOiAxMDAwMCwKCSAgICBjaGVjayA6IHRydWUsCgkJaW5jcmVhc2VWYWx1ZSA6IDUwMCwKCSAgICBvbGQgOiAxMDAwMCwKCSAgICBzdGFnbmFudCA6IGZhbHNlCgl9OwoKCXBsYXllci5zcHJpbnQgPSB7CgkgICAgYm9vc3QgOiAwLjAwMDIsCgkJa2V5IDogMjAsCgkgICAgc3RhbWluYUxvc3M6IC0xCgl9OwoKCXBsYXllci50aW1lcnMgPSB7CgkJc3RhbWluYUluY3JlYXNlVGltZXIgOiAwLAoJCWp1bXBDb29sRG93biA6IDAKCX07CgoJcGxheWVyLnRpbWVyc01heCA9IHsKCQlzdGFtaW5hSW5jcmVhc2VUaW1lciA6IDEwMDAsCgkJanVtcENvb2xEb3duIDogNTAwMAoJfTsKCglwbGF5ZXIud2FsayA9IHsKCQlzdGFtaW5hTG9zczogLTAuMDA1Cgl9OwoKCXBsYXllci5qdW1wID0gewoJCXlWZWw6IDAuMDAzLAoJCXN0YW1pbmFMb3NzOiAtMjUwMCwKCQkKCQljb3VudDogMAoJfTsKCglwbGF5ZXIuY29pbiA9IDA7CgoJcGxheWVyLnJlZ2lzdGVyU3luY1ZhbHVlcygic3ByaW50U3RhdGUiKTsKCXBsYXllci5yZWdpc3RlclN5bmNWYWx1ZXMoInN0YW1pbmEuY291bnQiKTsKCXBsYXllci5yZWdpc3RlclN5bmNWYWx1ZXMoImp1bXBDb29sZG93bkJvb2wiKTsKfQoKIyBQbGF5ZXIgZGllZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGVhdGgoc3RyIGlkLCBzdHIga2lsbGVySUQpIHsKCn0KCiMgUGxheWVyIHVwZGF0ZQpwdWJsaWMgYWN0aW9uIG9uUGxheWVyVXBkYXRlKHN0ciBpZCwgbnVtIGRlbHRhLCBvYmogaW5wdXRzKSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmdldFNlbGYoKTsKCWlmKCEhcGxheWVyLmhhc1NwcmludCl7CgkJaWYoISFwbGF5ZXIuc3ByaW50U3RhdGUpewoJCQludW0gekNvbXAgPSAobnVtKSBwbGF5ZXIuc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5jb3MoKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgCQludW0geENvbXAgPSAobnVtKSBwbGF5ZXIuc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5zaW4oKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgCQkobnVtKSBwbGF5ZXIudmVsb2NpdHkueCAtPSB4Q29tcDsKICAgIAkJKG51bSkgcGxheWVyLnZlbG9jaXR5LnogLT0gekNvbXA7CgkKCQkJKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgLT0gMSAqIGRlbHRhOwoJCX0KCQoJCWlmKChib29sKSBwbGF5ZXIuc3ByaW50U3RhdGUgIT0gKGJvb2wpIHBsYXllci5zcHJpbnRTdGF0ZU9sZCl7CgkJCUdBTUUuTkVUV09SSy5zZW5kKCdwcycsIHtkOiBwbGF5ZXIuc3ByaW50U3RhdGV9KTsKCQkJcGxheWVyLnNwcmludFN0YXRlT2xkID0gcGxheWVyLnNwcmludFN0YXRlOwoJCX0KCX0KCQoKCWlmKChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50ID4gKG51bSkgcGxheWVyLnN0YW1pbmEubWF4KXsKCQlwbGF5ZXIuc3RhbWluYS5jb3VudCA9IHBsYXllci5zdGFtaW5hLm1heDsKCX0KCglpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCA8PSAwKXsKCQlwbGF5ZXIuc3RhbWluYS5jb3VudCA9IDA7CgkJcGxheWVyLnN0YW1pbmEuY2hlY2sgPSBmYWxzZTsKCX0KCglpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCA8IChudW0pIHBsYXllci5zdGFtaW5hLm1heCl7CgkJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEub2xkID09IChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50KXsKCQkJKG51bSkgcGxheWVyLnRpbWVycy5zdGFtaW5hSW5jcmVhc2VUaW1lciArPSBkZWx0YTsKCQl9CgkJCgkJZWxzZSBpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5vbGQgPiAobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCl7CgkJCXBsYXllci50aW1lcnMuc3RhbWluYUluY3JlYXNlVGltZXIgPSAwOwoJCX0KCQkKCQlpZigobnVtKSBwbGF5ZXIudGltZXJzLnN0YW1pbmFJbmNyZWFzZVRpbWVyID49IChudW0pIHBsYXllci50aW1lcnNNYXguc3RhbWluYUluY3JlYXNlVGltZXIpewoJCQkobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCArPSAobnVtKSBwbGF5ZXIuc3RhbWluYS5pbmNyZWFzZVZhbHVlOwoJCQlwbGF5ZXIudGltZXJzLnN0YW1pbmFJbmNyZWFzZVRpbWVyID0gMDsKCQl9Cgl9CgoJaWYoISFpbnB1dHMubW92RGlyKXsKCQlpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCAhPSAwKXsKCQkJKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgKz0gKG51bSkgcGxheWVyLndhbGsuc3RhbWluYUxvc3MgKiBkZWx0YTsKCQkJcGxheWVyLnRpbWVycy5zdGFtaW5hSW5jcmVhc2VUaW1lciA9IDA7CgkJfQoJCWVsc2UgaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgPT0gMCl7CgkJCXBsYXllci52ZWxvY2l0eS54ID0gMDsKCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQlwbGF5ZXIudGltZXJzLnN0YW1pbmFJbmNyZWFzZVRpbWVyID0gMDsKCQl9Cgl9CglpZighIXBsYXllci5oYXNKdW1wKXsKCQkJaWYoIXBsYXllci5qdW1wQ29vbGRvd25Cb29sKXsKCQkJaWYoKG51bSlwbGF5ZXIuc3RhbWluYS5jb3VudCA+ICgtMSAqIChudW0pcGxheWVyLmp1bXAuc3RhbWluYUxvc3MpKXsKCQkJCWlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPiAwKXsKICAgIAkgICAgCQlpZighIXBsYXllci5vbkdyb3VuZCl7CiAgICAJICAgIAkgICAgCXBsYXllci5qdW1wLmNvdW50ID0gMDsKICAgIAkgICAgCQl9CiAgICAJCQl9CiAgICAJCQogICAgCQkJaWYoKG51bSkgcGxheWVyLmp1bXAuY291bnQgPT0gMSl7CiAgICAJICAgIAkJaWYoIWlucHV0cy5qdW1wKXsKICAgIAkgICAgCSAgICAJcGxheWVyLmp1bXAuY291bnQgPSAyOwogICAgCSAgICAJCX0KICAgIAkJCX0KCQkKICAgIAkJCWlmKCEhaW5wdXRzLmp1bXApewogICAgCSAgICAJCWlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPT0gMCl7CiAgICAJICAgIAkgICAgCXBsYXllci5qdW1wLmNvdW50ID0gMTsKICAgIAkgICAgCQl9CiAgICAJICAgIAkJZWxzZSBpZigobnVtKXBsYXllci5qdW1wLmNvdW50ID09IDIpewoJCQkJCQkobnVtKSBwbGF5ZXIudmVsb2NpdHkueSArPSAoZGVsdGEgKiAobnVtKXBsYXllci5qdW1wLnlWZWwpOwogICAgCSAgICAJICAgIAlwbGF5ZXIuanVtcC5jb3VudCA9IDM7CgkJCQkJCShudW0pIHBsYXllci5zdGFtaW5hLmNvdW50ICs9IChudW0pcGxheWVyLmp1bXAuc3RhbWluYUxvc3M7CgkJCQkJCXBsYXllci5qdW1wQ29vbGRvd25Cb29sID0gdHJ1ZTsKICAgIAkgICAgCQl9CiAgICAJCQl9CgkJCX0KCQl9CgkKCQlpZighIXBsYXllci5qdW1wQ29vbGRvd25Cb29sKXsKCQkJKG51bSkgcGxheWVyLnRpbWVycy5qdW1wQ29vbERvd24gKz0gZGVsdGE7CgkJCWlmKChudW0pIHBsYXllci50aW1lcnMuanVtcENvb2xEb3duID4gKG51bSkgcGxheWVyLnRpbWVyc01heC5qdW1wQ29vbERvd24pewoJCQkJcGxheWVyLmp1bXBDb29sZG93bkJvb2wgPSBmYWxzZTsKCQkJCShudW0pIHBsYXllci50aW1lcnMuanVtcENvb2xEb3duID0gMDsKCQkJfQoJCX0KCX0KfQoKIyBVc2VyIHByZXNzZWQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleVByZXNzKHN0ciBrZXksIG51bSBjb2RlKSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmdldFNlbGYoKTsKCWlmKGNvZGUgPT0gMjApewoJCWlmKChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50ID4gMCl7CgkJCXBsYXllci5zcHJpbnRTdGF0ZSA9IHRydWU7CgkJfQoJCWVsc2V7CgkJCXBsYXllci5zcHJpbnRTdGF0ZSA9IGZhbHNlOwoJCX0KCX0KfQoKIyBVc2VyIHJlbGVhc2VkIGEga2V5CnB1YmxpYyBhY3Rpb24gb25LZXlVcChzdHIga2V5LCBudW0gY29kZSkgewoJb2JqIHBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7CglpZihjb2RlID09IDIwKXsKCQlwbGF5ZXIuc3ByaW50U3RhdGUgPSBmYWxzZTsKCX0KfQoKIyBVc2VyIGhlbGQgYSBrZXkKcHVibGljIGFjdGlvbiBvbktleUhlbGQoc3RyIGtleSwgbnVtIGNvZGUpIHsKCQp9CgojIFVzZXIgcHJlc3NlZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJQcmVzcyhzdHIga2V5LCBudW0gY29kZSkgewoKfQoKIyBVc2VyIHJlbGVhc2VkIGEgYnV0dG9uIG9uIGEgY29udHJvbGxlcgpwdWJsaWMgYWN0aW9uIG9uQ29udHJvbGxlclVwKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgaGVsZCBhIGJ1dHRvbiBvbiBhIGNvbnRyb2xsZXIKcHVibGljIGFjdGlvbiBvbkNvbnRyb2xsZXJIZWxkKHN0ciBrZXksIG51bSBjb2RlKSB7Cgp9CgojIFVzZXIgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlQ2xpY2sobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7Cgp9CgojIFVzZXIgcmVsZWFzZWQgY2xpY2tlZCBvbiBzY3JlZW4KcHVibGljIGFjdGlvbiBvbk1vdXNlVXAobnVtIGJ1dHRvbiwgbnVtIHgsIG51bSB5KSB7Cgp9CgojIFVzZXIgc2Nyb2xsZWQgb24gc2NyZWVuCnB1YmxpYyBhY3Rpb24gb25Nb3VzZVNjcm9sbChudW0gZGlyKSB7Cgp9CgojIFVzZXIgY2xpY2tlZCBhIERJViAoSUQpCnB1YmxpYyBhY3Rpb24gb25ESVZDbGlja2VkKHN0ciBpZCkgewoKfQoKIyBDbGllbnQgcmVjZWl2ZXMgbmV0d29yayBtZXNzYWdlCnB1YmxpYyBhY3Rpb24gb25OZXR3b3JrTWVzc2FnZShzdHIgaWQsIG9iaiBkYXRhKSB7Cgp9","server":"IyBTZXJ2ZXIgU2NyaXB0IHJ1bnMgb25seSBvbiBIb3N0ZWQgc2VydmVyICYgbm90IGluIHRlc3QgbW9kZQojIEtydW5rU2NyaXB0IENvcHlyaWdodCAoQykgWWVuZGlzIEVudGVydGFpbm1lbnQgUHR5IEx0ZApudW0gbWF4ID0gLTE7CiMgQWRkIGN1c3RvbSBhY3Rpb25zIGhlcmUKCiMgUnVucyB3aGVuIHRoZSBnYW1lIHN0YXJ0cwpwdWJsaWMgYWN0aW9uIHN0YXJ0KCkgewoKfQoKIyBSdW5zIGV2ZXJ5IGdhbWUgdGljawpwdWJsaWMgYWN0aW9uIHVwZGF0ZShudW0gZGVsdGEpIHsKCn0KCiMgUGxheWVyIHNwYXducyBpbgpwdWJsaWMgYWN0aW9uIG9uUGxheWVyU3Bhd24oc3RyIGlkKSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCQoJcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCXBsYXllci5zcHJpbnRTdGF0ZSA9IGZhbHNlOwoJcGxheWVyLnNwcmludFN0YXRlT2xkID0gZmFsc2U7CgoJaWYoKG51bSkgcGxheWVyLnNpZCA+IG1heCl7CgkJbWF4ID0gKG51bSkgcGxheWVyLnNpZDsKCQlwbGF5ZXIuaGFzSnVtcCA9IHRydWU7CgkJcGxheWVyLmhhc1NwcmludCA9IHRydWU7Cgl9CgoJcGxheWVyLnN0YW1pbmEgPSB7CgkJbWF4OiAxMDAwMCwKCQkKCSAgICBjb3VudCA6IDEwMDAwLAoJICAgIGNoZWNrIDogdHJ1ZSwKCQlpbmNyZWFzZVZhbHVlIDogNTAwLAoJICAgIG9sZCA6IDEwMDAwLAoJfTsKCglwbGF5ZXIuc3ByaW50ID0gewoJICAgIGJvb3N0IDogMC4wMDAyLAoJCWtleSA6IDIwLAoJCWhhczogZmFsc2UsCgkgICAgc3RhbWluYUxvc3M6IC0xCgl9OwoKCXBsYXllci50aW1lcnMgPSB7CgkJc3RhbWluYUluY3JlYXNlVGltZXIgOiAwLAoJCWp1bXBDb29sRG93biA6IDAKCX07CgoJcGxheWVyLnRpbWVyc01heCA9IHsKCQlzdGFtaW5hSW5jcmVhc2VUaW1lciA6IDEwMDAsCgkJanVtcENvb2xEb3duIDogNTAwMAoJfTsKCglwbGF5ZXIud2FsayA9IHsKCQlzdGFtaW5hTG9zczogLTAuMDA1Cgl9OwoKCXBsYXllci5qdW1wID0gewoJCXlWZWw6IDAuMDAzLAoJCXN0YW1pbmFMb3NzOiAtMjUwMCwKCQloYXM6IGZhbHNlLAoJCQoJCWNvdW50OiAwCgl9Owp9CgojIFBsYXllciBkaWVkCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJEZWF0aChzdHIgaWQsIHN0ciBraWxsZXJJRCkgewoKfQoKIyBQbGF5ZXIgZ290IGRhbWFnZWQKcHVibGljIGFjdGlvbiBvblBsYXllckRhbWFnZShzdHIgaWQsIHN0ciBkb2VySUQsIG51bSBhbW91bnQpIHsKCn0KCiMgUGxheWVyIHVwZGF0ZQpwdWJsaWMgYWN0aW9uIG9uUGxheWVyVXBkYXRlKHN0ciBpZCwgbnVtIGRlbHRhLCBvYmogaW5wdXRzKSB7CglvYmogcGxheWVyID0gR0FNRS5QTEFZRVJTLmZpbmRCeUlEKGlkKTsKCUdBTUUubG9nKHBsYXllci5zdGFtaW5hLmNvdW50KTsKCWlmKCEhcGxheWVyLmhhc1NwcmludCl7CgkJaWYoISFwbGF5ZXIuc3ByaW50U3RhdGUpewoJCQludW0gekNvbXAgPSAobnVtKSBwbGF5ZXIuc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5jb3MoKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgCQludW0geENvbXAgPSAobnVtKSBwbGF5ZXIuc3ByaW50LmJvb3N0ICogZGVsdGEgKiAoTWF0aC5zaW4oKG51bSlwbGF5ZXIucm90YXRpb24ueCkpOwogICAgCQkobnVtKSBwbGF5ZXIudmVsb2NpdHkueCAtPSB4Q29tcDsKICAgIAkJKG51bSkgcGxheWVyLnZlbG9jaXR5LnogLT0gekNvbXA7CgkKCQkJKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgLT0gMSAqIGRlbHRhOwoJCX0KCQoJCWlmKChib29sKSBwbGF5ZXIuc3ByaW50U3RhdGUgIT0gKGJvb2wpIHBsYXllci5zcHJpbnRTdGF0ZU9sZCl7CgkJCUdBTUUuTkVUV09SSy5zZW5kKCdwcycsIHtkOiBwbGF5ZXIuc3ByaW50U3RhdGV9KTsKCQkJcGxheWVyLnNwcmludFN0YXRlT2xkID0gcGxheWVyLnNwcmludFN0YXRlOwoJCX0KCX0KCQoKCWlmKChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50ID4gKG51bSkgcGxheWVyLnN0YW1pbmEubWF4KXsKCQlwbGF5ZXIuc3RhbWluYS5jb3VudCA9IHBsYXllci5zdGFtaW5hLm1heDsKCX0KCglpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCA8PSAwKXsKCQlwbGF5ZXIuc3RhbWluYS5jb3VudCA9IDA7CgkJcGxheWVyLnN0YW1pbmEuY2hlY2sgPSBmYWxzZTsKCX0KCglpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCA8IChudW0pIHBsYXllci5zdGFtaW5hLm1heCl7CgkJaWYoKG51bSkgcGxheWVyLnN0YW1pbmEub2xkID09IChudW0pIHBsYXllci5zdGFtaW5hLmNvdW50KXsKCQkJKG51bSkgcGxheWVyLnRpbWVycy5zdGFtaW5hSW5jcmVhc2VUaW1lciArPSBkZWx0YTsKCQl9CgkJCgkJZWxzZSBpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5vbGQgPiAobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCl7CgkJCXBsYXllci50aW1lcnMuc3RhbWluYUluY3JlYXNlVGltZXIgPSAwOwoJCX0KCQkKCQlpZigobnVtKSBwbGF5ZXIudGltZXJzLnN0YW1pbmFJbmNyZWFzZVRpbWVyID49IChudW0pIHBsYXllci50aW1lcnNNYXguc3RhbWluYUluY3JlYXNlVGltZXIpewoJCQkobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCArPSAobnVtKSBwbGF5ZXIuc3RhbWluYS5pbmNyZWFzZVZhbHVlOwoJCQlwbGF5ZXIudGltZXJzLnN0YW1pbmFJbmNyZWFzZVRpbWVyID0gMDsKCQl9Cgl9CgoJaWYoISFpbnB1dHMubW92RGlyKXsKCQlpZigobnVtKSBwbGF5ZXIuc3RhbWluYS5jb3VudCAhPSAwKXsKCQkJKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgKz0gKG51bSkgcGxheWVyLndhbGsuc3RhbWluYUxvc3MgKiBkZWx0YTsKCQkJcGxheWVyLnRpbWVycy5zdGFtaW5hSW5jcmVhc2VUaW1lciA9IDA7CgkJfQoJCWVsc2UgaWYoKG51bSkgcGxheWVyLnN0YW1pbmEuY291bnQgPT0gMCl7CgkJCXBsYXllci52ZWxvY2l0eS54ID0gMDsKCQkJcGxheWVyLnZlbG9jaXR5LnogPSAwOwoJCQlwbGF5ZXIudGltZXJzLnN0YW1pbmFJbmNyZWFzZVRpbWVyID0gMDsKCQl9Cgl9CglpZighIXBsYXllci5oYXNKdW1wKXsKCQkJaWYoIXBsYXllci5qdW1wQ29vbGRvd25Cb29sKXsKCQkJaWYoKG51bSlwbGF5ZXIuc3RhbWluYS5jb3VudCA+ICgtMSAqIChudW0pcGxheWVyLmp1bXAuc3RhbWluYUxvc3MpKXsKCQkJCWlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPiAwKXsKICAgIAkgICAgCQlpZighIXBsYXllci5vbkdyb3VuZCl7CiAgICAJICAgIAkgICAgCXBsYXllci5qdW1wLmNvdW50ID0gMDsKICAgIAkgICAgCQl9CiAgICAJCQl9CiAgICAJCQogICAgCQkJaWYoKG51bSkgcGxheWVyLmp1bXAuY291bnQgPT0gMSl7CiAgICAJICAgIAkJaWYoIWlucHV0cy5qdW1wKXsKICAgIAkgICAgCSAgICAJcGxheWVyLmp1bXAuY291bnQgPSAyOwogICAgCSAgICAJCX0KICAgIAkJCX0KCQkKICAgIAkJCWlmKCEhaW5wdXRzLmp1bXApewogICAgCSAgICAJCWlmKChudW0pcGxheWVyLmp1bXAuY291bnQgPT0gMCl7CiAgICAJICAgIAkgICAgCXBsYXllci5qdW1wLmNvdW50ID0gMTsKICAgIAkgICAgCQl9CiAgICAJICAgIAkJZWxzZSBpZigobnVtKXBsYXllci5qdW1wLmNvdW50ID09IDIpewoJCQkJCQkobnVtKSBwbGF5ZXIudmVsb2NpdHkueSArPSAoZGVsdGEgKiAobnVtKXBsYXllci5qdW1wLnlWZWwpOwogICAgCSAgICAJICAgIAlwbGF5ZXIuanVtcC5jb3VudCA9IDM7CgkJCQkJCShudW0pIHBsYXllci5zdGFtaW5hLmNvdW50ICs9IChudW0pcGxheWVyLmp1bXAuc3RhbWluYUxvc3M7CgkJCQkJCXBsYXllci5qdW1wQ29vbGRvd25Cb29sID0gdHJ1ZTsKICAgIAkgICAgCQl9CiAgICAJCQl9CgkJCX0KCQl9CgkKCQlpZighIXBsYXllci5qdW1wQ29vbGRvd25Cb29sKXsKCQkJKG51bSkgcGxheWVyLnRpbWVycy5qdW1wQ29vbERvd24gKz0gZGVsdGE7CgkJCWlmKChudW0pIHBsYXllci50aW1lcnMuanVtcENvb2xEb3duID4gKG51bSkgcGxheWVyLnRpbWVyc01heC5qdW1wQ29vbERvd24pewoJCQkJcGxheWVyLmp1bXBDb29sZG93bkJvb2wgPSBmYWxzZTsKCQkJCShudW0pIHBsYXllci50aW1lcnMuanVtcENvb2xEb3duID0gMDsKCQkJfQoJCX0KCX0KfQoKIyBDYWxsZWQgZnJvbSBDdXN0b20gVHJpZ2dlciBBY3Rpb24KcHVibGljIGFjdGlvbiBvbkN1c3RvbVRyaWdnZXIoc3RyIHBsYXllcklELCBzdHIgY3VzdG9tUGFyYW0sIG51bSB2YWx1ZSkgewoKfQoKIyBTZXJ2ZXIgcmVjZWl2ZXMgbmV0d29yayBtZXNzYWdlCnB1YmxpYyBhY3Rpb24gb25OZXR3b3JrTWVzc2FnZShzdHIgaWQsIG9iaiBkYXRhLCBzdHIgcGxheWVySUQpIHsKCW9iaiBwbGF5ZXIgPSBHQU1FLlBMQVlFUlMuZmluZEJ5SUQocGxheWVySUQpOwoJaWYoaWQgPT0gJ3BzJyl7CgkJcGxheWVyLnNwcmludFN0YXRlID0gZGF0YS5kOwoJfQp9CgojIFNlcnZlciByZWNlaXZlcyBjaGF0IG1lc3NhZ2UKcHVibGljIGFjdGlvbiBvbkNoYXRNZXNzYWdlKHN0ciBtc2csIHN0ciBwbGF5ZXJJRCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGxlYXZlcyB0aGUgc2VydmVyCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJMZWF2ZShzdHIgcGxheWVySUQpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSByb3VuZCBlbmRzCnB1YmxpYyBhY3Rpb24gb25HYW1lRW5kKCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGZpbmlzaGVkIGEgdmlkZW8KcHVibGljIGFjdGlvbiBvbkFkRmluaXNoZWQoc3RyIHBsYXllcklELCBib29sIHN1Y2Nlc3MpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSBzZXJ2ZXIgY2xvc2VzCnB1YmxpYyBhY3Rpb24gb25TZXJ2ZXJDbG9zZWQoKSB7Cgp9"}},"groups":{},"selected":"152D95E3-AC0C-4A32-A636-0682AD37D967","cam":{"p":[18.357871655063455,303.2389730035789,24.424567456049928],"r":[-3.469446951953614e-17,-1.5260000000000007,0]},"history":[]}
